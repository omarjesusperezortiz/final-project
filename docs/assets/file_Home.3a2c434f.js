import{o as i,d as r,p as h,k as T,e,l as N,m as l,a as f,b as p,t as g,n as S,w,g as y,F as $,q as A,u as B,i as m,x as E}from"./file_index.a753ea0d.js";import{_ as k}from"./file__plugin-vue_export-helper.e718e6fb.js";const C={},L=s=>(h("data-v-faa5598f"),s=s(),T(),s),V={class:"nav"},D=L(()=>e("h1",{class:"app-logo"},[e("span",{class:"clip"},"TaskApp")],-1)),O=[D];function q(s,t){return i(),r("div",V,O)}const F=k(C,[["render",q],["__scopeId","data-v-faa5598f"]]),I=N("task",{state:()=>({task:[]}),actions:{async fetchTasks(){const{data:s}=await l.from("Task").select("*").order("id",{ascending:!1});return this.task=s,console.log(s,"lista de tasks"),this.task},async addTask(s,t){console.log(f().user.id),await l.from("Task").insert([{user_id:f().user.id,title:s,description:t}])},async getTasks(){const s=await l.from("Task").select("*").order("id",{ascending:!1});console.log(s)},async updateTask(s,t){const a=await l.from("Task").update(t).eq("id",s);console.log(a)},async deleteTask(s){const t=await l.from("Task").delete().eq("id","taskId");console.log(t)},async toggleTask(s,t){await l.from("tasks").update({is_complete:s}).match({id:t})}}});const x=s=>(h("data-v-de0238c8"),s=s(),T(),s),H={class:"form-container"},M={key:0},U={class:"error-text"},R={class:"form-group"},j=x(()=>e("span",null,"Titulo",-1)),z={class:"form-group"},G=x(()=>e("span",null,"Descripcion",-1)),J={__name:"NewTask",emits:["add-task"],setup(s,{emit:t}){I();const a=p(""),n=p(""),c=p(!1),u=p(null),o=()=>{if(a.value.length===0||n.value.length===0)c.value=!0,u.value="The task title or description is empty",setTimeout(()=>{c.value=!1},5e3);else{const d={name:a.value,description:n.value};console.log(d),t("add-task",d),a.value="",n.value=""}};return(d,_)=>(i(),r("div",H,[c.value?(i(),r("div",M,[e("p",U,g(u.value),1)])):S("",!0),e("div",R,[j,w(e("input",{class:"input-field-input",type:"text",placeholder:"Add a Task Title","onUpdate:modelValue":_[0]||(_[0]=v=>a.value=v)},null,512),[[y,a.value]])]),e("div",z,[G,w(e("input",{class:"input-field-input",type:"text",placeholder:"Add a Task Description","onUpdate:modelValue":_[1]||(_[1]=v=>n.value=v)},null,512),[[y,n.value]])]),e("div",{class:"form-group task-button"},[e("button",{onClick:o,class:"button"},"Agregar tarea")])]))}},K=k(J,[["__scopeId","data-v-de0238c8"]]);const P={class:"task-container"},Q={class:"card-task"},W={__name:"TaskCard",props:{task:Array},setup(s){const t=s;return console.log(t,"props"),console.log(t,"task"),(a,n)=>(i(),r("div",P,[(i(!0),r($,null,A(s.task,(c,u)=>(i(),r("div",{class:"card-container",key:u},[e("div",Q,[e("h3",null,g(c.title),1),e("h3",null,g(c.description),1)])]))),128))]))}},X=k(W,[["__scopeId","data-v-7197aa51"]]);const b=s=>(h("data-v-0c4eff51"),s=s(),T(),s),Y={class:"user-container"},Z={class:"logo-container"},ss={class:"main-container"},es=b(()=>e("p",null,"Aun no tienes tareas",-1)),ts=b(()=>e("div",{class:"background-task-effect hidden",id:"backTask"},null,-1)),as={class:"hidden card-container new-task",id:"newTask"},os={__name:"Home",setup(s){const t=I(),a=B();f(),console.log(t.task,"addNewTask.task"),t.fetchTasks();async function n(o){await t.addTask(o.name,o.description),t.fetchTasks(),console.log(o)}const c=async()=>{try{await l.auth.signOut(),a.push({path:"/auth/login"})}catch(o){console.log(o,"logout")}},u=()=>{document.getElementById("newTask").classList.add("show"),document.getElementById("backTask").classList.add("show")};return window.addEventListener("click",function(o){document.getElementById("backTask").contains(o.target)&&(document.getElementById("backTask").classList.remove("show"),document.getElementById("newTask").classList.remove("show"))}),(o,d)=>(i(),r($,null,[e("header",null,[e("div",Y,[e("button",{class:"logOut",onClick:d[0]||(d[0]=_=>c())},"Log Out")]),e("div",Z,[m(F)])]),e("div",ss,[es,e("button",{onClick:d[1]||(d[1]=_=>u())},"Agrega una tarea")]),ts,e("div",as,[m(K,{onAddTask:n})]),m(X,{task:E(t).task},null,8,["task"])],64))}},ds=k(os,[["__scopeId","data-v-0c4eff51"]]);export{ds as default};
