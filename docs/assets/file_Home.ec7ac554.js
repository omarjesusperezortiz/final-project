import{o as r,k as _,p as A,j as I,d as e,l as M,m as y,a as O,b as k,i as h,w as b,t as D,n as C,T as N,e as E,g as S,F as U,q,x as z,y as w,u as F,s as j,z as G,h as B}from"./file_index.b7e2d9ba.js";import{_ as K}from"./file__plugin-vue_export-helper.e718e6fb.js";const J={},P=s=>(A("data-v-faa5598f"),s=s(),I(),s),Q={class:"nav"},W=P(()=>e("h1",{class:"app-logo"},[e("span",{class:"clip"},"TaskApp")],-1)),X=[W];function Y(s,o){return r(),_("div",Q,X)}const Z=K(J,[["render",Y],["__scopeId","data-v-faa5598f"]]),x=M("task",{state:()=>({task:[]}),actions:{async fetchTasks(){const{data:s}=await y.from("Task").select("*").order("id",{ascending:!1});return this.task=s,console.log(s,"lista de tasks"),this.task},async addTask(s,o){await y.from("Task").insert([{user_id:O().user.id,title:s,is_complete:!1,description:o}])},async updateTask(s,o,c){const l=await y.from("Task").update({title:s,description:o}).match({id:c});console.log(l)},async deleteTask(s){const o=await y.from("Task").delete().match({id:s});console.log(o)},async toggleTask(s,o){await y.from("Task").update({is_complete:s}).match({id:o})}}});const H=s=>(A("data-v-76bedec0"),s=s(),I(),s),ee={key:0,class:"addError"},se={class:"error-text"},te={class:"form-container"},oe={class:"form-group"},ae={class:"form-group"},ne=H(()=>e("span",null,"Agregar",-1)),le=H(()=>e("span",{class:"commandenter"},"\u2318 enter",-1)),ce=[ne,le],ie={__name:"NewTask",emits:["add-task","show"],setup(s,{emit:o}){x();const c=k(""),l=k(""),i=k(!1),d=k(null),g=()=>{if(c.value.length===0||l.value.length===0)i.value=!0,d.value="\xA1Tienes que llenar ambos campos!",setTimeout(()=>{i.value=!1},5e3);else{const p={name:c.value,description:l.value};console.log(p),o("add-task",p),c.value="",l.value="",o("show")}};return document.addEventListener("keydown",p=>{(p.metaKey||p.ctrlKey)&&p.key==="Enter"&&(console.log("fire!"),g())}),(p,u)=>(r(),_(U,null,[h(N,null,{default:b(()=>[i.value?(r(),_("div",ee,[e("h3",se,D(d.value),1)])):C("",!0)]),_:1}),e("div",te,[e("div",oe,[E(e("input",{class:"input-field-input",type:"text",placeholder:"Titulo de tarea","onUpdate:modelValue":u[0]||(u[0]=m=>c.value=m)},null,512),[[S,c.value]])]),e("div",ae,[E(e("textarea",{class:"input-field-input",rows:"4",type:"text",placeholder:"Descripcion...","onUpdate:modelValue":u[1]||(u[1]=m=>l.value=m)},null,512),[[S,l.value]])]),e("div",{class:"form-group task-button"},[e("button",{onClick:g,class:"button"},ce)])])],64))}},de=K(ie,[["__scopeId","data-v-76bedec0"]]);const L=s=>(A("data-v-fd9c983f"),s=s(),I(),s),ue={class:"task-container"},re={class:"card-task"},_e=["onClick"],pe=L(()=>e("i",{class:"fa-solid fa-check"},null,-1)),ve=[pe],ke={class:"overflow"},fe={class:"overflow"},he=["onClick"],ge=L(()=>e("i",{class:"fa-solid fa-trash"},null,-1)),me=[ge],Te=["onClick"],ye=L(()=>e("i",{class:"fa-solid fa-magnifying-glass"},null,-1)),we=[ye],be={key:0,class:"changeName"},$e={class:"add-task-form"},xe={class:"form-group"},Ce={class:"form-group"},Ne={class:"form-group change-button"},Ee=["onClick"],Se=["onClick"],Ae={__name:"TaskCard",props:{task:Array},emits:["editTask","deleteTask","toggleTask"],setup(s,{emit:o}){const c=k(""),l=k(""),i=k(!1),d=k(null),g=k(!1),p=a=>{d.value=a.id,i.value=!i.value,c.value=a.title,l.value=a.description,console.log(a.id,i.value)},u=(a,f)=>{a=!a,g.value=!g.value,o("toggleTask",a,f),console.log(a,f,"toggle y id")},m=a=>{console.log(a),o("deleteTask",a)},V=(a,f)=>{console.log(c.value,a,l.value,"name input value"),o("editTask",c.value,l.value,a),c.value="",l.value="",i.value=!1};return document.addEventListener("keydown",a=>{a.key==="Escape"&&(i.value=!1)}),(a,f)=>(r(),_("div",ue,[h(z,null,{default:b(()=>[(r(!0),_(U,null,q(s.task,(n,T)=>(r(),_("div",{class:w(["card-container",{doneCard:n.is_complete==!0}])},[e("div",re,[e("button",{class:w(["buttonDone buttonRight",{buttonlight:n.is_complete==!0,doneclicked:n.is_complete==!0}]),type:"button",onClick:t=>u(n.is_complete,n.id),id:"buttonDone"},ve,10,_e),e("h3",ke,D(n.title),1),e("p",fe,D(n.description),1),n.is_complete?(r(),_("button",{key:0,class:w([{buttonlight:n.is_complete==!0},"buttonRight"]),type:"button",onClick:t=>m(n.id),id:"buttonDelete"},me,10,he)):(r(),_("button",{key:1,class:w([{buttonlight:n.is_complete==!0},"buttonRight"]),type:"button",onClick:t=>p(n),id:"buttonEdit"},we,10,Te))]),h(N,null,{default:b(()=>[i.value&&d.value===n.id?(r(),_("div",be,[e("div",$e,[e("div",xe,[E(e("input",{class:"input-field-input",type:"text","onUpdate:modelValue":f[0]||(f[0]=t=>c.value=t)},null,512),[[S,c.value]])]),e("div",Ce,[E(e("textarea",{class:"input-field-input",type:"text",rows:"6",style:{overflow:"scroll"},"onUpdate:modelValue":f[1]||(f[1]=t=>l.value=t)},null,512),[[S,l.value]])]),e("div",Ne,[e("button",{onClick:t=>V(n.id,T),class:"button"}," Editar tarea ",8,Ee)])])])):C("",!0)]),_:2},1024),h(N,null,{default:b(()=>[i.value&&d.value===n.id?(r(),_("div",{key:0,onClick:t=>p(n),class:"background-task-effect"},null,8,Se)):C("",!0)]),_:2},1024)],2))),256))]),_:1})]))}},Ie=K(Ae,[["__scopeId","data-v-fd9c983f"]]);const R=s=>(A("data-v-c4bb3d67"),s=s(),I(),s),Ke={class:"user-container"},Ve={class:"logo-container"},De={class:"main-container"},Ue=R(()=>e("h3",null,[B("No tienes m\xE1s tareas. "),e("br"),B("Agrega una nueva! :)")],-1)),Le=[Ue],Re=R(()=>e("span",{class:"agregartext"}," Agregar tarea",-1)),Be=R(()=>e("span",{class:"commandkey"},"\u2318K",-1)),Oe=[Re,Be],He={key:0},Me={class:"card-container new-task",id:"newTask"},qe={__name:"Home",setup(s){const o=x(),c=F(),l=O(),i=k([]),d=k(!1),{user:g}=j(l);(async()=>{await l.fetchUser(),console.log(g.value)})();const u=async()=>{i.value=await o.fetchTasks()};u();async function m(t){await o.addTask(t.name,t.description),u()}const V=async(t,v,$)=>{await x().updateTask(t,v,$),u()},a=async(t,v)=>{await o.toggleTask(t,v),u()},f=async t=>{await x().deleteTask(t),u()},n=async()=>{try{await y.auth.signOut(),c.push({name:"login"})}catch(t){console.log(t,"logout")}},T=()=>{d.value=!d.value};return document.addEventListener("keydown",t=>{t.key==="Escape"&&!(t.ctrlKey||t.altKey||t.shiftKey)&&(d.value=!1,console.log(d.value,"valor de show"))}),document.addEventListener("keydown",t=>{(t.metaKey||t.ctrlKey)&&t.key==="k"&&(console.log("fire!"),T())}),(t,v)=>(r(),_(U,null,[e("header",null,[e("div",Ke,[e("button",{class:"logOut",onClick:v[0]||(v[0]=$=>n())},"Log Out")]),e("div",Ve,[h(Z)])]),e("div",De,[e("div",{class:w(["dotasks",{appear:i.value==![]}])},Le,2),e("button",{class:"AgregarTarea",onClick:v[1]||(v[1]=$=>T())},Oe)]),h(N,null,{default:b(()=>[d.value?(r(),_("div",He,[e("div",{onClick:v[2]||(v[2]=$=>T()),class:"background-task-effect",id:"backTask"}),e("div",Me,[h(de,{class:"newTaskBox",onAddTask:m,onShow:T})])])):C("",!0)]),_:1}),h(Ie,{task:G(o).task,onToggleTask:a,onEditTask:V,onDeleteTask:f},null,8,["task"])],64))}},je=K(qe,[["__scopeId","data-v-c4bb3d67"]]);export{je as default};
